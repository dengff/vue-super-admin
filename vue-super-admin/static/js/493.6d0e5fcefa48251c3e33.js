"use strict";(self.webpackChunkvue3_test=self.webpackChunkvue3_test||[]).push([[493],{36312:function(_,t,o){Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var e=o(76765),c=o(79742),n=o(27878),i=o(85758),d=o(54531),a=o(35555),s=o(39116);const f=(0,e.createTextVNode)("\u63D0\u4EA4"),y=(0,e.createTextVNode)("\u91CD\u7F6E"),m=(0,e.createTextVNode)("\u5207\u6362");var p={__name:"schema-dynForm",setup(g){const S=l=>u=>{u.loading=!0,l(u).then(d.action.bound(v=>{u.dataSource=v,u.loading=!1}))},h=async l=>{const u=l.query("selectComponent").get("value");return u?new Promise(v=>{setTimeout(()=>{u===1?v([{label:"AAA",value:"aaa"},{label:"BBB",value:"ccc"}]):u===2&&v([{label:"CCC",value:"ccc"},{label:"DDD",value:"ddd"}])},2500)}):[]},b=s.schemaConfig,F=a.FormGrid.GridColumn,C=()=>{console.log(r,"form"),r.setState(l=>{console.log(l,"state"),l.readPretty=!l.readPretty})},x=l=>{console.log(l,"val")},{SchemaField:w}=(0,i.createSchemaField)({components:{FormItem:a.FormItem,FormGrid:a.FormGrid,PreviewText:a.PreviewText,Radio:a.Radio,Input:a.Input,Select:a.Select,Checkbox:a.Checkbox,Upload:a.Upload,TimePicker:a.TimePicker,Switch:a.Switch,DatePicker:a.DatePicker}}),r=(0,n.createForm)();return(0,e.onMounted)(()=>{console.log(r,"form")}),(l,u)=>{const v=(0,e.resolveComponent)("el-button");return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.createVNode)((0,e.unref)(i.FormProvider),{form:(0,e.unref)(r),style:{padding:"12px"}},{default:(0,e.withCtx)(()=>[(0,e.createVNode)((0,e.unref)(w),{schema:(0,e.unref)(b),scope:{useAsyncDataSource:S,loadData:h}},null,8,["schema","scope"]),(0,e.createVNode)((0,e.unref)(c.GridLayout),null,{default:(0,e.withCtx)(()=>[(0,e.createVNode)((0,e.unref)(c.Cell),{justify:"end"},{default:(0,e.withCtx)(()=>[(0,e.createVNode)((0,e.unref)(a.FormButtonGroup),{"align-right":""},{default:(0,e.withCtx)(()=>[(0,e.createVNode)((0,e.unref)(a.Submit),{onSubmit:x},{default:(0,e.withCtx)(()=>[f]),_:1}),(0,e.createVNode)((0,e.unref)(a.Reset),{validate:"",forceClear:""},{default:(0,e.withCtx)(()=>[y]),_:1}),(0,e.createVNode)(v,{onClick:C},{default:(0,e.withCtx)(()=>[m]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["form"])])}}};t.Z=p},57641:function(_,t,o){Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var e=o(76765),c=o(85758),n=o(35555),i=o(27878),d=a(o(87468));function a(p){return p&&p.__esModule?p:{default:p}}const s=(0,e.createTextVNode)("\u63D0\u4EA4"),f=(0,e.createTextVNode)("\u91CD\u7F6E"),y=(0,e.createTextVNode)("\u5207\u6362");var m={__name:"template-dynForm",setup(p){const g=r=>{console.log(r,"val")};let S=(0,e.ref)(!1);const h=(0,e.ref)(),b=document.querySelector("component");(0,e.onMounted)(()=>{console.log(h,"component"),console.log(b,"component")});const F=(0,e.reactive)([{label:"\u6D4B\u8BD51",value:"1"},{label:"\u6D4B\u8BD52",value:"2"},{label:"\u6D4B\u8BD53",value:"3"}]),C=()=>new Promise(r=>setTimeout(l=>{r([{value:"1",label:"\u5F02\u6B65\u6570\u636E_1"},{value:"2",label:"\u5F02\u6B65\u6570\u636E_2"},{value:"3",label:"\u5F02\u6B65\u6570\u636E_3"}])},1500)),x=(r,l)=>{},w=(0,i.createForm)({effects(){x("blueInput",r=>{}),(0,i.onFieldValueChange)("Select",(r,l)=>{l.setFieldState("*(Input)",u=>{u.value=r.value}),l.setFieldState("Switch",u=>{u.editable=r.value==="2"}),l.setFieldState("FilterSelect",u=>{u.value=null,u.dataSource=F.filter(v=>r.value&&v.value.indexOf(r.value)>-1)}),l.setFieldState("*(AsyncSelect_2,AsyncSelect_1)",u=>{u.value=""})}),(0,i.onFieldInit)("AsyncSelect",async r=>{const{data:l}=await d.default.POST_ENUM();r.dataSource=l.list}),(0,i.onFieldReact)("AsyncSelect_1",async r=>{console.log(r.query("Select").take(),"field.query('Select')");const l=r.query("Select").value(),u=await C();r.dataSource=u.filter(v=>l&&v.value.indexOf(l)>-1)}),(0,i.onFieldReact)("AsyncSelect_2",async(r,l)=>{r.disabled=!0;const u=r.query("Select").value();if(!u)return;const v=await C();r.disabled=!1,r.dataSource=v.filter(I=>!(u&&I.value.indexOf(u)>-1))})}});return(r,l)=>{const u=(0,e.resolveComponent)("el-button");return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.createVNode)((0,e.unref)(c.FormProvider),{form:(0,e.unref)(w)},{default:(0,e.withCtx)(()=>[(0,e.createVNode)((0,e.unref)(n.FormGrid),{maxColumns:4,columnGap:16},{default:(0,e.withCtx)(()=>[(0,e.createVNode)((0,e.unref)(c.Field),{name:"Input",title:"Input \u8F93\u5165\u6846",component:[(0,e.unref)(n.Input),{clearable:!0,placeholder:"\u8BF7\u8F93\u5165"}],decorator:[(0,e.unref)(n.FormItem)],initialValue:" "},null,8,["component","decorator"]),(0,e.createVNode)((0,e.unref)(c.Field),{name:"Select",title:"Select Select\u7EC4\u4EF6",component:[(0,e.unref)(n.Select),{clearable:!0,placeholder:"\u8BF7\u8F93\u5165",onClick:()=>{}}],decorator:[(0,e.unref)(n.FormItem)],"data-source":[{label:"\u72B6\u60011",value:"1"},{label:"\u72B6\u60012",value:"2"},{label:"\u72B6\u60013",value:"3"},{label:"\u7A7A\u5B57\u7B26",value:""}]},null,8,["component","decorator"]),(0,e.createVNode)((0,e.unref)(c.Field),{name:"Switch",title:"Switch \u5F00\u5173",component:[(0,e.unref)(n.Switch)],decorator:[(0,e.unref)(n.FormItem)]},null,8,["component","decorator"]),(0,e.createVNode)((0,e.unref)(c.Field),{name:"FilterSelect",title:"\u7EA7\u8054\u9009\u62E9",component:[(0,e.unref)(n.Select)],decorator:[(0,e.unref)(n.FormItem)]},null,8,["component","decorator"]),(0,e.createVNode)((0,e.unref)(c.Field),{name:"AsyncSelect",title:"\u5F02\u6B65\u6570\u636E",component:[(0,e.unref)(n.Select)],decorator:[(0,e.unref)(n.FormItem)]},null,8,["component","decorator"]),(0,e.createVNode)((0,e.unref)(c.Field),{name:"AsyncSelect_1",title:"\u5F02\u6B65\u8054\u52A8 I",component:[(0,e.unref)(n.Select)],decorator:[(0,e.unref)(n.FormItem)]},null,8,["component","decorator"]),(0,e.createVNode)((0,e.unref)(c.Field),{name:"AsyncSelect_2",title:"\u5F02\u6B65\u8054\u52A8 II",component:[(0,e.unref)(n.Select)],decorator:[(0,e.unref)(n.FormItem)]},null,8,["component","decorator"]),(0,e.createVNode)((0,e.unref)(c.Field),{name:"FocusInput",ref:"test",title:"\u81EA\u52A8\u805A\u7126 Input",decorator:[(0,e.unref)(n.FormItem)],component:[(0,e.unref)(n.Input),{autofocus:!0,onKeyup:x}]},null,8,["decorator","component"]),(0,e.createVNode)((0,e.unref)(c.Field),{name:"blueInput",title:"\u5931\u53BB\u7126\u70B9 Input",decorator:[(0,e.unref)(n.FormItem)],ref_key:"component",ref:h,component:[(0,e.unref)(n.Input),{ref:"component",class:"component"}]},null,8,["decorator","component"])]),_:1}),(0,e.createVNode)((0,e.unref)(n.FormButtonGroup),{"align-form-item-justify-right":""},{default:(0,e.withCtx)(()=>[(0,e.createVNode)((0,e.unref)(n.Submit),{onSubmit:g},{default:(0,e.withCtx)(()=>[s]),_:1}),(0,e.createVNode)((0,e.unref)(n.Reset),{validate:"",forceClear:""},{default:(0,e.withCtx)(()=>[f]),_:1}),(0,e.createVNode)(u,{onClick:l[0]||(l[0]=()=>{})},{default:(0,e.withCtx)(()=>[y]),_:1})]),_:1})]),_:1},8,["form"])])}}};t.Z=m},12709:function(_,t,o){Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var e=o(76765),c=i(o(71269)),n=i(o(88891));function i(s){return s&&s.__esModule?s:{default:s}}const d={style:{padding:"12px"}};var a={__name:"index",setup(s){const f=(0,e.ref)("Template");return(y,m)=>{const p=(0,e.resolveComponent)("el-tab-pane"),g=(0,e.resolveComponent)("el-tabs");return(0,e.openBlock)(),(0,e.createElementBlock)("div",d,[(0,e.createVNode)(g,{modelValue:f.value,"onUpdate:modelValue":m[0]||(m[0]=S=>f.value=S),class:"demo-tabs",onTabClick:m[1]||(m[1]=()=>{})},{default:(0,e.withCtx)(()=>[(0,e.createVNode)(p,{label:"Schema Json",name:"Schema"},{default:(0,e.withCtx)(()=>[(0,e.createVNode)((0,e.unref)(c.default))]),_:1}),(0,e.createVNode)(p,{label:"Template",name:"Template"},{default:(0,e.withCtx)(()=>[(0,e.createVNode)((0,e.unref)(n.default))]),_:1})]),_:1},8,["modelValue"])])}}};t.Z=a},79742:function(_,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.Test=t.GridLayout=t.Cell=void 0;var e=o(76765),c=o(89325);const n=(0,e.defineComponent)({name:"GridLayout",props:{gridStyle:{type:Object,default:()=>{}}},setup(a,s){let{attrs:f,emit:y,slots:m}=s;const{height:p="auto",columnGap:g=0,rowGap:S=0,direction:h="horizontal",columns:b=1,rows:F,gap:C=0,gridTable:x}=f;(0,e.provide)("gridLayout",{gridTable:x});const w=l=>{if(l)return{border:"1px solid #000000","border-bottom":"none","border-right":"none"}},r=(0,e.reactive)({display:"grid",height:p,columnGap:g+"px",rowGap:S+"px",gap:C+"px",gridAutoFlow:h==="vertical"?"column":"row",gridTemplateColumns:(0,c.frGetter)(b),gridTemplateRows:(0,c.frGetter)(F),...w(x),...a.gridStyle});return()=>(0,e.createVNode)("div",{style:r},[m.default&&m.default()])}});t.GridLayout=n;const i=(0,e.defineComponent)({name:"Cell",props:{rowSpan:{type:[String,Number],default:1},columnSpan:{type:[String,Number],default:1},cellStyle:{type:Object,default:()=>{}}},setup(a,s){let{slots:f,emit:y,attrs:m}=s;const{justify:p,align:g}=m,S=(0,e.getCurrentInstance)(),{gridTable:h}=(0,e.inject)("gridLayout"),b=(0,e.computed)(()=>{if(h)return{border:"1px solid #000000",borderTop:"none",borderLeft:"none"}}),F=(0,e.reactive)({height:"100%",boxSizing:"border-box",display:"flex",gridColumnEnd:`span ${a.columnSpan}`,gridRowEnd:`span ${a.rowSpan}`,justifyContent:p||"start",alignItems:g||"top",justifySelf:"stretch",...b.value,...a.cellStyle});return()=>(0,e.createVNode)("div",{style:F},[f?.default()])}});t.Cell=i;const d=(a,s)=>{let{attrs:f,slots:y,emit:m}=s;return(0,e.createVNode)("div",null,[y?.default()])};t.Test=d},89325:function(_,t){Object.defineProperty(t,"__esModule",{value:!0}),t.gap=t.frGetter=t.formatAreas=t.flow=t.autoRows=void 0;const o=function(){return`minmax(${arguments.length>0&&arguments[0]!==void 0?arguments[0]:"20px"}, auto)`};t.autoRows=o;const e=d=>{if(d=d*1,!!d)return typeof d=="number"?`repeat(${d},  1fr`:d};t.frGetter=e;const c=d=>{let{gap:a="8px"}=d;return a};t.gap=c;const n=d=>{let{flow:a="row"}=d;return a};t.flow=n;const i=d=>{if(!!d)return d.map(a=>`"${a}"`).join(" ")};t.formatAreas=i},39116:function(_,t){Object.defineProperty(t,"__esModule",{value:!0}),t.schemaConfig=void 0;const o={type:"object",properties:{grid:{"x-component":"FormGrid",type:"void","x-component-props":{maxColumns:[4],columnGap:16},properties:{Input:{type:"string",title:"Input \u8F93\u5165\u6846","x-component":"Input","x-decorator":"FormItem"},DatePicker:{type:"string",title:"DatePicker \u65E5\u671F\u9009\u62E9\u5668","x-component":"DatePicker","x-decorator":"FormItem",default:"","x-reactions":{dependencies:["DatePickerDateTimeRange"],fulfill:{state:{disabled:"{{$self.value = $deps[0]}}"}}}},DatePickerDateTimeRange:{type:"string",title:"DatePicker \u65E5\u671F\u8303\u56F4\u9009\u62E9\u5668","x-component":"DatePicker","x-decorator":"FormItem","x-decorator-props":{tooltip:"DatePicker \u65E5\u671F\u8303\u56F4\u9009\u62E9\u5668",tooltipLayout:"text"},default:"","x-component-props":{type:"datetimerange"},"x-reactions":{dependencies:["Input"],fulfill:{state:{}}}},Upload:{type:"array",title:"Upload \u4E0A\u4F20","x-component":"Upload","x-component-props":{action:"https://formily-vue.free.beeceptor.com/file",textContent:"\u70B9\u51FB\u4E0A\u4F20","show-file-list":!1},"x-decorator":"FormItem",default:""},TimePicker:{type:"string",title:"TimePicker \u65F6\u95F4","x-component":"TimePicker","x-decorator":"FormItem","x-component-props":{},default:""},radio:{type:"number",title:"\u5355\u9009 Upload\u9690\u85CF",enum:[{label:"\u663E\u793A Upload",value:1},{label:"\u9690\u85CF Upload",value:2}],"x-decorator":"FormItem","x-component":"Radio.Group","x-component-props":{optionType:"button"},default:1,"x-reactions":{target:"Upload",when:"{{$self.value ===2}}",fulfill:{state:{display:"none"}},otherwise:{state:{display:"visible"}}}},selectComponent:{type:"string",title:"Select Component","x-component":"Select","x-decorator":"FormItem",enum:[{label:"Desc_1",value:1},{label:"Desc_2",value:2}]},checkboxGroup:{type:"array",title:"\u590D\u9009","x-decorator":"FormItem","x-component":"Checkbox.Group",default:[1],enum:[{label:"\u9009\u98791",value:1},{label:"\u9009\u98792",value:2}]},switch:{type:"boolean",title:"\u63A7\u5236\u590D\u9009\u5F00\u5173","x-decorator":"FormItem","x-component":"Switch","x-reactions":{target:"checkboxGroup",when:"{{$self.value === true}}",fulfill:{state:{editable:!0}},otherwise:{state:{editable:!1}}}},asyncSelect:{type:"string",title:"\u5F02\u6B65\u9009\u62E9","x-decorator":"FormItem","x-component":"Select","x-reactions":["{{useAsyncDataSource(loadData)}}"]}}}}};t.schemaConfig=o},71269:function(_,t,o){o.r(t),o.d(t,{__esModule:function(){return e.X},default:function(){return n}});var e=o(36312),n=e.Z},88891:function(_,t,o){o.r(t),o.d(t,{__esModule:function(){return e.X},default:function(){return n}});var e=o(57641),n=e.Z},99493:function(_,t,o){o.r(t),o.d(t,{__esModule:function(){return e.X},default:function(){return n}});var e=o(12709),n=e.Z}}]);
